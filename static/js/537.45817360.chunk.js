"use strict";(self.webpackChunkweather_forecast_app=self.webpackChunkweather_forecast_app||[]).push([[537],{537:(n,e,t)=>{t.r(e),t.d(e,{default:()=>cn});var r=t(43);let i=function(n){return n[n.DESKTOP=0]="DESKTOP",n[n.MOBILE=1]="MOBILE",n[n.TABLET=2]="TABLET",n}({});const s=()=>({width:window.innerWidth,height:window.innerHeight}),l=()=>{const[n,e]=(0,r.useState)(s());let t;return(0,r.useEffect)((()=>{let n;const t=()=>{clearTimeout(n),n=setTimeout((()=>e(s())),1e3)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t=n.width/120*100<n.height?n.width<1050&&n.width>=500?i.TABLET:i.MOBILE:i.DESKTOP,{screenType:t}};var a=t(3);const c=a.d4;var o,d,p,u,y,g,h,x=t(496),w=t(528),T=t(197);const m=T.Ay.div(o||(o=(0,w.A)(["\n    position: relative;\n    top: 0;\n    left: 0;\n    z-index: 1;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    width: 100%;\n    height: 100%;\n\n    margin: ",";\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0.8vw 0":"0 0 3.6vw 0"})),v=T.Ay.input(d||(d=(0,w.A)(["\n    width: 100%;\n    height: ","vw;\n\n    border: 1px solid #66A5AD;\n    border-radius: ","vw;\n\n    padding: ",";\n    margin: 0;\n    outline: none;\n\n    box-sizing: border-box;\n\n    transition: all 0.15s linear;\n\n    &:focus {\n        transition: all 0.15s linear;\n\n        border-color: #003B46;\n    }\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?3.4:12}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0.4vw 1.6vw":"1.6vw 6.4vw"})),b=T.Ay.div(p||(p=(0,w.A)(["\n    position: absolute;\n    top: ","vw;\n    left: 0;\n\n    width: 100%;\n\n    background-color: #66A5AD;\n\n    border-radius: ","vw;\n\n    padding: ","vw;\n\n    box-sizing: border-box;\n\n    transition: all 0.15s linear;\n\n    visibility: ",";\n    opacity: ",";\n    pointer-events: ",";\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?3.8:13.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:3.2}),(n=>{let{visibility:e}=n;return e?"visible":"hidden"}),(n=>{let{visibility:e}=n;return e?1:0}),(n=>{let{visibility:e}=n;return e?"all":"none"})),f=T.Ay.ul(u||(u=(0,w.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    width: 100%;\n\n    padding: 0;\n    margin: 0;\n\n    box-sizing: border-box;\n"]))),A=T.Ay.li(y||(y=(0,w.A)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n\n    width: 100%;\n\n    background-color: #FFFFFF;\n\n    border: 1px solid #66A5AD;\n    border-radius: ","vw;\n\n    padding: ","vw;\n    margin: ",";\n\n    cursor: pointer;\n\n    box-sizing: border-box;\n\n    transition: all 0.15s linear;\n\n    &:hover {\n        transition: all 0.15s linear;\n\n        background-color: #C5DFE6;\n    }\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:3.2}),(n=>{let{withMargin:e,screenType:t}=n;return e?"".concat(t===i.DESKTOP?"0 0 0.4vw 0":"0 0 1.6vw 0"):"0"})),D=T.Ay.img(g||(g=(0,w.A)(["\n    width: ","vw;\n\n    margin: ",";\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?1.2:3.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0 0.4vw":"0 0 0 1.6vw"})),E=T.Ay.span(h||(h=(0,w.A)(["\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n\n    width: 100%;\n\n    background-color: #FFFFFF;\n\n    border: 1px solid #66A5AD;\n    border-radius: ","vw;\n\n    padding: ",";\n    margin: 0;\n\n    box-sizing: border-box;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0.8vw 1.6vw":"3.2vw"}));var S=t(579);const O=n=>{let{value:e,handleChange:t,searchList:s,handleClick:l,screenType:a}=n;const c=(0,r.useRef)(null);return(0,r.useEffect)((()=>{c.current&&c.current.focus()}),[]),(0,S.jsxs)(m,{screenType:a,children:[(0,S.jsx)(v,{placeholder:"Search for a city ...",value:e,onChange:n=>t(n.target.value),ref:c,className:"".concat(a===i.DESKTOP?"text-l":"text-l-mob"),screenType:a}),(0,S.jsx)(b,{visibility:e.length>0,screenType:a,children:e.length>0&&0===s.length?(0,S.jsx)(E,{screenType:a,className:"".concat(a===i.DESKTOP?"text-m":"text-m-mob"),children:"Nothing found"}):(0,S.jsx)(f,{children:s.map(((n,e,t)=>(0,S.jsxs)(A,{onClick:()=>l(n.id),withMargin:e!==t.length-1,screenType:a,className:"".concat(a===i.DESKTOP?"text-m":"text-m-mob"),children:[(0,S.jsx)("span",{children:n.name}),(0,S.jsx)(D,{src:"https://openweathermap.org/images/flags/".concat(n.sys.country.toLowerCase(),".png"),alt:"Flag",title:"Flag","aria-label":"Flag",screenType:a})]},n.id)))})})]})};var j;const K=T.Ay.button(j||(j=(0,w.A)(["\n    position: relative;\n    top: 0;\n    left: 0;\n\n    background-color: #C5DFE6;\n\n    border-radius: ","vw;\n\n    border: 1px solid #66A5AD;\n    outline: 0;\n    margin: 0;\n    padding: ",";\n    \n    text-transform: uppercase;\n\n    transition: all 0.15s linear;\n\n    &:hover {\n        transition: all 0.15s linear;\n\n        background-color: #66A5AD;\n    }\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0.4vw 0.8vw":"1.6vw 3.2vw"})),P=n=>{let{text:e,onClick:t,className:r}=n;const{screenType:i}=l();return(0,S.jsx)(K,{onClick:t,className:r,screenType:i,title:e,"aria-label":e,children:e})};var C,F,k,I,L,N,z;const _=T.Ay.div(C||(C=(0,w.A)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-start;\n\n    width: 100%;\n\n    margin: ",";\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0.8vw 0":"0 0 3.6vw 0"})),B=T.Ay.div(F||(F=(0,w.A)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    width: 100%;\n\n    margin: ",";\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0.8vw 0":"0 0 3.6vw 0"})),M=T.Ay.h2(k||(k=(0,w.A)(["\n    margin: 0;\n    padding: 0;\n"]))),H=T.Ay.ul(I||(I=(0,w.A)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    width: 100%;\n\n    padding: 0;\n    margin: 0;\n\n    box-sizing: border-box;\n"]))),Y=T.Ay.li(L||(L=(0,w.A)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    width: 100%;\n\n    background-color: #FFFFFF;\n\n    border: 1px solid #66A5AD;\n    border-radius: ","vw;\n\n    padding: ",";\n    margin: ",";\n\n    box-sizing: border-box;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.8:1.6}),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0.8vw 1.6vw":"3.2vw"}),(n=>{let{withMargin:e,screenType:t}=n;return e?"".concat(t===i.DESKTOP?"0 0 0.4vw 0":"0 0 1.6vw 0"):"0"})),G=T.Ay.div(N||(N=(0,w.A)(["\n    margin: ",";\n\n    box-sizing: border-box;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0.4vw 0 0":"0 1.6vw 0 0"})),J=T.Ay.img(z||(z=(0,w.A)(["\n    width: 100%;\n    height: auto;\n"]))),R=n=>{let{forecast:e,removeCiteHandler:t,screenType:r}=n;return(0,S.jsxs)(_,{screenType:r,children:[(0,S.jsxs)(B,{screenType:r,children:[(0,S.jsx)(M,{className:"".concat(r===i.DESKTOP?"text-m":"text-m-mob"),children:e.city.name}),(0,S.jsx)(P,{onClick:()=>t(e.city.id),text:"Remove",className:"".concat(r===i.DESKTOP?"text-s":"text-s-mob")})]}),(0,S.jsx)(H,{children:e.list.filter((n=>{const e=new Date(n.dt_txt).getHours();return e>=10&&e<=14})).map(((n,e,t)=>((n,e)=>{const t=n.main.temp-273.15,s=new Date(n.dt_txt),l=s.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"}),a=s.toLocaleDateString("en-GB",{weekday:"short"});return(0,S.jsxs)(Y,{withMargin:e,screenType:r,className:"".concat(r===i.DESKTOP?"text-s":"text-s-mob"),children:[(0,S.jsxs)(G,{screenType:r,children:[l," (",a,")"]}),(0,S.jsxs)(G,{screenType:r,children:["Temperature: ",t.toFixed(1),"\xb0C"]}),(0,S.jsx)(G,{style:{display:"flex",alignItems:"center",justifyContent:"center"},screenType:r,children:(0,S.jsx)(J,{src:"https://openweathermap.org/img/wn/".concat(n.weather[0].icon,".png"),title:n.weather[0].description,alt:n.weather[0].description,"aria-label":n.weather[0].description})})]},n.dt)})(n,e!==t.length-1)))})]})};let W=function(n){return n.CITY_IDS="CITY_IDS",n}({});var q,Q,U,V,X,Z,$;const nn=T.Ay.main(q||(q=(0,w.A)(["\n    overflow: hidden;\n"]))),en=T.Ay.section(Q||(Q=(0,w.A)(["\n    position: relative;\n    top: 0;\n    left: 0;\n    z-index: 1;\n\n    display: flex;\n    align-items: flex-start;\n    justify-content: center;\n\n    width: 100%;\n    height: 100%;\n\n    min-width: 100vw;\n    min-height: 100vh;\n\n    padding: ","vw;\n\n    box-sizing: border-box;\n\n    background: linear-gradient(to bottom, #b4d9ff, #4d94ff);\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?.4:4})),tn=T.Ay.div(U||(U=(0,w.A)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    width: 100%;\n    height: 100%;\n\n    max-width: ","vw;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?60:100})),rn=T.Ay.div(V||(V=(0,w.A)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    width: 100%;\n\n    margin: ",";\n\n    box-sizing: border-box;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0.8vw 0":"0 0 3.2vw 0"})),sn=T.Ay.h2(X||(X=(0,w.A)(["\n    margin: 0;\n    padding: 0;\n"]))),ln=T.Ay.div(Z||(Z=(0,w.A)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n\n    width: 100%;\n\n    margin: ",";\n\n    box-sizing: border-box;\n"])),(n=>{let{screenType:e}=n;return e===i.DESKTOP?"0 0 0.8vw 0":"0 0 3.2vw 0"})),an=T.Ay.span($||($=(0,w.A)(["\n    margin: 0;\n    padding: 0;\n"]))),cn=()=>{const{screenType:n}=l(),e=(0,a.wA)(),t=c(x.Ek),s=c(x.pe),o=c(x.hB),[d,p]=(0,r.useState)(""),[u,y]=(0,r.useState)([]),g=n=>{y((e=>e.filter((e=>e!==n)))),e((0,x.LM)(n))};return(0,r.useEffect)((()=>{const n=function(n){const e=localStorage.getItem(n);if(e)try{return JSON.parse(e)}catch(t){return}}(W.CITY_IDS);null!==n&&void 0!==n&&n.length&&(y(null!==n&&void 0!==n?n:[]),n.map((n=>e((0,x.mI)(n)))))}),[]),(0,r.useEffect)((()=>{var n,e;n=W.CITY_IDS,e=u,localStorage.setItem(n,JSON.stringify(e))}),[u]),(0,S.jsx)(nn,{children:(0,S.jsx)(en,{screenType:n,children:(0,S.jsxs)(tn,{screenType:n,children:[(0,S.jsx)(O,{value:d,handleChange:async n=>{p(n),await e((0,x.Nw)(n))},searchList:s,handleClick:async n=>{console.log(n);u.some((e=>e===n))||(y((e=>[...e,n])),await e((0,x.mI)(n))),p(""),setTimeout((()=>e((0,x._L)())),100)},screenType:n}),t.error&&(0,S.jsx)(ln,{screenType:n,children:(0,S.jsx)(an,{className:"".concat(n===i.DESKTOP?"text-err":"text-err-mob"),children:t.error})}),(0,S.jsxs)(rn,{screenType:n,children:[(0,S.jsx)(sn,{className:"".concat(n===i.DESKTOP?"text-l":"text-l-mob"),children:o.length>0?"List of selected cities:":"No selected cities, start searching"}),o.length>0&&(0,S.jsx)(P,{text:"Clear list",onClick:()=>{e((0,x.kH)()),y([])},className:"".concat(n===i.DESKTOP?"text-s":"text-s-mob")})]}),o.map((e=>(0,S.jsx)(R,{forecast:e,removeCiteHandler:g,screenType:n},e.city.id)))]})})})}}}]);
//# sourceMappingURL=537.45817360.chunk.js.map